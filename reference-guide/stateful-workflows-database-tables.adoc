= Stateful Workflows subsystems' database tables
include::../partials/attributes.adoc[]
include::../styles/images.adoc[]

The following sections contain a description of all tables that are created by the Installation DDL scripts from `bamoe-{VERSION}-db-utils.zip` for stateful Workflows. These tables are also automatically created when your Business Automation application runs for the first time if the Apache KIE Flyway mechanism is enabled.

== Runtime tables

[%autowidth]
|===
|Table |Description

|business_key_mapping 
| 

|correlation_instances 
|composite business keys to locate a process without the process instance id

|process_instances
|process state from alive processes
|===

== Data-Index tables

[%autowidth]
|===
|Table |Description

|attachments  
|user task instance attachments belongs

|comments  
|user task instance comments belongs

|definitions 
|process definitions that have been deployed

|definitions_addons  
|add-ons the process definitions were deployed with

|definitions_annotations 
|annotations the process definitions were deployed with

|definitions_metadata 
|metadata the process definitions were deployed with

|definitions_nodes
|last definitions of node executed by a process instance 

|definitions_nodes_metadata
|metadata the last definitions of node executed by a process instance was deployed with

|definitions_roles
|roles the process definitions were deployed with

|jobs
|timers created by runtime

|kogito_data_cache
|The data cache used by Kogito

|milestones
|special type of node that is completed through a condition (comes from cmmn)

|nodes 
|nodes executed by the process instance

|processes 
|last state of the process instance

|processes_addons 
|add-ons this process instance is being executed with

|processes_roles 
|roles this process instance is required

|tasks 
|user task instance last state

|tasks_admin_groups 
|user task instance admin groups assinged

|tasks_admin_users 
|user task instance admin user assingned

|tasks_excluded_users
|user task instance excluded users

|tasks_potential_groups
|user task instance potential groups

|tasks_potential_users
|user task instance potential users
|===


== Data-Audit tables

[%autowidth]
|===
|Table |Description

|audit_query 
|store custom queries against Data-Audit tables

|job_execution_log 
|historical records of events of job execution

|process_instance_error_log 
|historical record of process instance errors

|process_instance_node_log 
|historical record of node instance executions

|process_instance_state_log 
|historical record of node state changed during executions

|process_instance_state_roles_log 
|historical record of process instance state changed during execution

|process_instance_variable_log 
|historical record of varaible changes during process instance execution

|task_instance_assignment_log 
|historical record of assignments in user task instance

|task_instance_assignment_users_log 
|historical record of assignments in user task instance

|task_instance_attachment_log 
|historical record of user task instance attachments

|task_instance_comment_log 
|historical record of user task instance comments

|task_instance_deadline_log 
|historical record of user task instance deadlines change

|task_instance_deadline_notification_log 
|historical record of use task instance deadlines notifications

|task_instance_state_log 
|historical record of user task instance state change

|task_instance_variable_log
|historical record of user task instance input/output variables change
|===


== Jobs Service tables

[%autowidth]
|===
|Table |Description

|job_details  
| job instance being created

|job_service_management 
|use for clustering and to check which instance is the lead
|===


== User Tasks tables
[%autowidth]
|===
|Table |Description

|jbpm_user_tasks  
|The entity that represents a User Task

|jbpm_user_tasks_potential_users 
|The potential users assignable to a given User Task

|jbpm_user_tasks_potential_groups
|The potential groups assignable to a given User Task

|jbpm_user_tasks_admin_users
|User Admins assigned to a given User Task

|jbpm_user_tasks_admin_group
|Group Admins assigned to a given User Task

|jbpm_user_tasks_excluded_users
|Users which canâ€™t be assigned to a given User Task

|jbpm_user_tasks_attachments
|An attachment is a reference to an external URI containing information relevant to a related User Task

|jbpm_user_tasks_comments
|A comment consists of a human readable text that will help to achieve a successful resolution of a User Task

|jbpm_user_tasks_inputs
|Input parameters of a User Task which are passed as a pair (name, value) format, to be consumed by a Human

|jbpm_user_tasks_ouputs
|Output parameters of a User Task which results in a set of properties in a pair (name, value) format

|jbpm_user_tasks_metadata
|Global properties related to the User Task
|===